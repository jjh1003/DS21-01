# 1、定义和性质

- 堆是一种完全二叉树（除了树的最后一层不需要是满的，其它每一层都是满的）

<img src="E:\java\git\project\ds\ds21-01\documents\image\v2-b544d1c846d76a3b285fdb5279bbd94f_720w.jpg" alt="v2-b544d1c846d76a3b285fdb5279bbd94f_720w" style="zoom:80%;" />

- 通常用数组来实现

<img src="E:\java\git\project\ds\ds21-01\documents\image\v2-956fe1b9952647ccf9aca86b2ecf6bbf_720w.jpg" alt="v2-956fe1b9952647ccf9aca86b2ecf6bbf_720w" style="zoom:80%;" />

​	这种数组实现的二叉树，假设节点的索引为index，那么

​	节点的左节点2*index+1

​	节点的右节点是2*index+2

​	节点的父节点是(index-1)/2

- 堆中的每一个节点的关键字都大于或等于这个节点的子节点的关键字，称为最大堆，（或者都小于等于这个节点的子节点，称为最小堆），这也是是和二叉树的区别所在

我们把二叉树的根节点称为堆顶，根据二叉树的特性，堆顶要么是整个堆中的最大元素，要么是整个堆中的最小元素。

# 2、遍历和查找

堆是弱序的，遍历很困难，基本上不支持遍历。

而对于查找，由于堆的特性，在查找的过程中，没有足够的信息来决定选择通过节点的两个子节点中的哪一个来选择走向下一层，所以在堆中很难查找到关键字。

因此，堆这种结构非常接近无序，不过，能够快速的移除最大节点或者最小节点（根节点），或者快速插入新的节点。

# 3、插入

插入时要保证完全二叉树的特性。

在插入的时候，先把节点插入到完全二叉树的最后一个位置；之后在进行调整。

规则：（最小堆）让新插入的节点与它的父节点进行比较，如果新节点小于父节点，则让新节点上浮，即和父节点交换位置。上浮之后接续与它的父节点进行比较，直到父节点的值小于等于该节点才停止。

# 4、移除

移除指的是删除最大节点（或最小），也就是根节点

根节点数组的索引总是0。

移除了根节点后，树就空了一个根节点，此时必须填上这个空单元。

1. 将数组的数据项都往前移动一个单位，比较费时
2. 第二种方法
   - 移走根
   - 把最后一个节点移动到根的位置
   - 一直向下筛选这个节点，直到他在一个小于它的节点之下。

